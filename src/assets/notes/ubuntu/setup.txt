/* if on raspberry pi, to force headless mode, go into /boot/firmware/config.txt and add: */
hdmi_force_hotplug=1
/* this helped on ubuntu mate 20 beta
hdmi_group=1
hdmi_mode=74
*/

/* this helped on ubuntu 20 */
hdmi_force_hotplug=1
hdmi_drive=2

/* below are unnecessary */
// hdmi_safe=1
// config_hdmi_boost=9

/* set up ssh, by scp -r somehostwithsshconfig:.ssh dotssh */
/* need to find way to get fingerprint! or do ca ssh setup */

/* optionally allow sudo commands without a password, 2 wasys to do that, per user, or for all in sudo group, sudo nano /etc/sudoers:
%sudo ALL=NOPASSWD: ALL
simba ALL=(ALL) NOPASSWD: ALL
*/
%sudo ALL=NOPASSWD: ALL

/* setup ssh */
/* if you need to create id_rsa, id_rsa.pub with a text editor, make sure each is chmod 600 before going further */
/* from a client machine, comment the known_hosts so that you can ssh into the new machine and use a password.. this will add an entry, then you can put * as the first column of the entry, and bring back the entries that were there before
on the new machine, setup: 
.ssh/id_rsa  (600)  (can pick from ssh or create new ones)
.ssh/id_rsa.pub (600) 
.ssh/authorized_keys (use from client machine, or regenerate list of all known keys)
.ssh/known_hosts  (use from client machine will all entries)
*/

/* from settings, user -> automatic login */
/* from settings, sharing -> screen -> select network toggle, use password as password */ 
/* from settings, power -> blank screen never */
gsettings set org.gnome.Vino require-encryption false

/* download vscode, etcher, tweaks and lanlord tools */
sudo apt update
sudo apt install -y curl wget git zip unzip mergerfs sshfs rsync openssh-server openssl dnsutils gconf-editor udftools sshpass exfat-utils exfat-fuse f2fs-tools xfsprogs btrfs-progs

/* if you are missing software center */
sudo apt install -y software-center
sudo apt install -y software-center*

/* E: if you see package has no installation candidate */
sudo apt-get update
sudo apt-get upgrade

/* or if you just want to be able to double click .deb files to download */
sudo apt install -y gdebi


/* sshfs setup */
sudo nano /etc/fuse.conf
user_allow_other

or

addgroup simba fuse

/* on amd64 
gparted!!!!,  chromium-browser 
*/

// remmina?? does it come with ubuntu i dont remember?

/* ?? maybe 
ffmpeg - for vlc, seems vlc is not on arm yet :(, but also obs needs this
*/

/* need to get to apt repository or use snap:
brave
*/

/* can find deb packages for :
vscode
opera
vivaldi
*/

/* install docker (from web) */
sudo apt-get update
sudo apt-get install -y apt-transport-https ca-certificates curl gnupg-agent software-properties-common
curl -fsSL https://downloads.docker.com/linux/ubuntu/gpg | sudo apt-key add -
/* amd64 */
sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
/* arm64 */
sudo add-apt-repository \
   "deb [arch=arm64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io

/*
Install from a package
If you cannot use Dockerâ€™s repository to install Docker Engine, you can download the .deb file for your release and install it manually. You need to download a new file each time you want to upgrade Docker.
Go to https://download.docker.com/linux/ubuntu/dists/, choose your Ubuntu version, then browse to pool/stable/, choose amd64, armhf, or arm64, and download the .deb file for the Docker Engine version you want to install.
Note: To install a nightly or test (pre-release) package, change the word stable in the above URL to nightly or test. Learn about nightly and test channels.
Install Docker Engine, changing the path below to the path where you downloaded the Docker package.
sudo dpkg -i /path/to/package.deb
*/

/* docker groupadd */
sudo groupadd docker
sudo usermod -aG docker $USER

/* requires restart or logout, though logout seems to not let me vnc back in... */
/* enable experimental by opening $HOME/.docker/config.json and adding  */
/* buildx setup */
"experimental": "enabled"

docker run --rm --privileged multiarch/qemu-user-static --reset -p yes
docker buildx rm builder
docker buildx create --name builder --driver docker-container --use
docker buildx inspect --bootstrap

/* !!! many of the above steps can all be put into a script !!! */
/* after docker is ready, load images, again scriptable !!! */

/* steps to put heart of darkness cursor */

/* steps to clone/backup !!! double check please if and of is so silly instead of src and dest... so if is input file, and of is output file */

sudo dd if=/dev/sdc of=/dev/sdd bs=8192 status=progress

/* when finally finished To backup a Partition : You can use the device name of a partition in the input file, and in the output either you can specify your target path or image file as shown in the dd command.
# dd if=/dev/hda1 of=~/partition.img
*/
/*
To create an image of a Hard Disk : Instead of taking a backup of the hard disk, you can create an image file of the hard disk and save it in other storage devices. There are many advantages of backing up your data to a disk image, one being the ease of use. This method is typically faster than other types of backups, enabling you to quickly restore data following an unexpected catastrophe.It creates the image of a hard disk /dev/hda.
*/
sudo dd if=/dev/hda of=~/hdadisk.img

/*
To restore using the Hard Disk Image : To restore a hard disk with the image file of an another hard disk, the following dd command can be used */
sudo dd if=hdadisk.img of=/dev/hdb

/* steps to be able to vnc */
/*
vnc viewer app on mac
(should also probably get remote desktop for windows hosts)
go into ubuntu settings and make sure under sharing that screen sharing is on for the network (so set it up with wired and it will always work wherever its plugged in, still trying to find a way to have it universally trust the wan setup!!)
also its gonna be annoying if you have to be watching the screen prompt for allowing connections, a little easier to just set up a password like password
after openining vnc viewer create a new connection with (what is hopefully a static ip on the host, you can set that up fairly easily by going to network, configure it to be static and choose a 192.168.0.x with usually the gateway as 192.168.0.1)
youll probably if run into:
Unable to connect to VNC Server using your chosen security setting. Either upgrade VNC Server to a more recent version from RealVNC, or select a weaker level of encryption.
*/

gsettings set org.gnome.Vino require-encryption false

/*
should work now with a message about it being not super secure, vnc protocol runs on port 5900 by default.... need to figure out a "secure" way to do this, probably ssh first or something
so i read that you could try to do the secure way like:
*/

ssh -L 5959:127.0.0.1:5900 simba@192.168.0.119

/*
which from there i went to vnc and connected to localhost:5959 instead, which worked, but, it seems that its still unsecure, perhaps because i didnt use keys or something when ssh

apprently -C compresses -R is for a reverse tunnel, and theres a few other ssh options like -X for unsecure x server and -Y for secure
*/
